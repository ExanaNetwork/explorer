extends layout

block headContent
	+title('Unconfirmed Transactions')

block content
	div.mt-5.mt-sm-3
	h3.text-bold Unconfirmed Transactions

	if (txpoolDetails)
		- var txCount = txpoolDetails.txCount;

		div.card.shadow-sm.mb-3
			div.card-body
				h3.h6.mb-0
					if (txCount == 1)
						span.text-bold 1 Transaction
					else
						span.text-bold #{txCount.toLocaleString()} Transactions

				hr

				each tx, txIndex in txpoolDetails.transactions
					div.card.shadow-sm.mb-3
						div.card-header.text-monospace
							if (tx && tx.txid)
								span ##{(txIndex + offset).toLocaleString()} 
								span &ndash; 
								a(href=("/tx/" + tx.txid)) #{tx.txid} 
								span &ndash; 
									- var timestampHuman = tx.time;
									include includes/timestamp-human.pug

						div.card-body
							- var txInputs = txpoolDetails.txInputsByTransaction[tx.txid];
							- var blockHeight = -1;

							include includes/transaction-io-details.pug

				if (txCount > limit)
					- var pageNumber = offset / limit + 1;
					- var pageCount = Math.floor(txCount / limit);
					- if (pageCount * limit < txCount) {
						- pageCount++;
					- }
					- var paginationUrlFunction = function(x) {
						- return paginationBaseUrl + "?limit=" + limit + "&offset=" + ((x - 1) * limit + "&sort=" + sort);
					- }

					hr

					include includes/pagination.pug
	else
		p No unconfirmed transactions found
